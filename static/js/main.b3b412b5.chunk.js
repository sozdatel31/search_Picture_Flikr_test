(this.webpackJsonpelinext_test=this.webpackJsonpelinext_test||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(10),r=n.n(c),o=(n(116),n(117),n(189)),i=n(193),s=n(151),u=n(194),l=n(195),d=n(28),j=n(64),b=n.n(j),p=n(4);function h(){return Object(p.jsx)("div",{className:b.a.div,children:Object(p.jsx)(o.a,{color:"inherit",position:"static",children:Object(p.jsxs)(i.a,{children:[Object(p.jsx)(d.b,{className:b.a.navLink,to:"/search",children:Object(p.jsx)(s.a,{variant:"h5",children:"Image Finder"})}),Object(p.jsx)("div",{className:b.a.div}),Object(p.jsx)(u.a,{color:"inherit",children:Object(p.jsx)(l.a,{})})]})})})}var f=n(210),O=n(205),x=n(12),g=n(32),m=n(18),v=n(43),_=n(94),P=n.n(_),C=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P.a.create({baseURL:"https://www.flickr.com/services/rest/",params:{method:"flickr.photos.search",api_key:"7b8388b09c7b64e0df597f927aef2657",extras:"original_format",tags:e,page:t,format:"json",nojsoncallback:1,per_page:15}})}(e,t).get("")},y=n(34),N={status:"idle",error:void 0},k=Object(y.b)({name:"settingReducer",initialState:N,reducers:{setAppStatus:function(e,t){e.status=t.payload.status},setAppError:function(e,t){e.error=t.payload.error}}}),A=k.actions,S=A.setAppStatus,I=A.setAppError,w=k.reducer,D=function(e,t){"fail"===e.stat?t(I({error:e.message})):t(I({error:"Server is not responding"})),t(S({status:"failed"}))},T=Object(y.b)({name:"app",initialState:{page:1,pages:0,photo:[],isDisabled:!1},reducers:{setPhotosAC:function(e,t){e.photo=t.payload.photos.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{url:e.originalformat?"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".").concat(e.originalformat):"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")})}))},removePhotoAC:function(e,t){var n=e.photo.findIndex((function(e){return e.id===t.payload.photoId}));n>-1&&e.photo.splice(n,1)},setPagesAC:function(e,t){e.page=t.payload.page,e.pages=t.payload.pages},nextPageAC:function(e,t){e.page=t.payload.page},isDisabledAC:function(e,t){e.isDisabled=t.payload.isDisabled}}}),B=T.actions,E=B.setPhotosAC,F=B.removePhotoAC,H=B.setPagesAC,L=B.nextPageAC,J=B.isDisabledAC,W=T.reducer;function q(e,t){"ok"===e.stat?e.photos.photo.length?(t(E({photos:e.photos.photo})),t(H({page:e.photos.page,pages:e.photos.pages})),t(J({isDisabled:!1}))):t(I({error:"Error:( Please, try again/Please enter a valid query"})):D(e,t)}var z=Object(y.b)({name:"localStorage",initialState:[],reducers:{addPictureAC:function(e,t){e.unshift(Object(v.a)({},t.payload.photo))},removePictureAC:function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.photoId}));n>-1&&e.splice(n,1)},setPicturesAC:function(e,t){return t.payload}}}),K=z.actions,R=K.addPictureAC,G=K.removePictureAC,U=K.setPicturesAC,V=z.reducer,M=n(211),Q=n(196),X=n(197),Y=n(200),Z=n(198),$=n(201),ee=n(199),te=n(52),ne=n.n(te);function ae(e){return Object(p.jsxs)(Q.a,{className:ne.a.root,style:{background:"#e4ea73"},children:[Object(p.jsxs)(X.a,{children:[Object(p.jsx)(Z.a,{className:ne.a.media,image:e.picture.url}),Object(p.jsx)(ee.a,{className:ne.a.itemsText,style:{background:"#e4ea73"},children:Object(p.jsx)(s.a,{variant:"body1",color:"textSecondary",component:"p",children:e.picture.title})})]}),Object(p.jsx)(Y.a,{className:ne.a.button,children:Object(p.jsx)($.a,{variant:"outlined",size:"small",color:"default",onClick:function(){return e.remotePhoto(e.picture.id,e.picture)},children:e.description})})]})}var ce=n(215),re=n(214);function oe(e){return Object(p.jsx)(re.a,Object(v.a)({elevation:6,variant:"filled"},e))}function ie(){var e=Object(m.c)((function(e){return e.settings.error})),t=Object(m.b)(),n=function(e,n){"clickaway"!==n&&t(I({error:void 0}))};return Object(p.jsx)(ce.a,{open:void 0!==e,autoHideDuration:4e3,onClose:n,style:{bottom:"80px"},children:Object(p.jsx)(oe,{onClose:n,severity:"error",children:e})})}function se(e){var t=Object(m.c)((function(e){return e.settings.status})),n=Object(m.b)();return Object(p.jsx)(ce.a,{open:"succeeded"===t,autoHideDuration:1e3,onClose:function(){n(S({status:"idle"}))},style:{bottom:"80px"},children:Object(p.jsx)(re.a,{severity:"success",children:e.value})})}var ue=n(47),le=n.n(ue),de=n(203),je=n(204),be=n(212);function pe(e){var t=Object(a.useState)(e.currentPage),n=Object(g.a)(t,2),c=n[0],r=n[1];return Object(p.jsx)(be.a,{page:c,count:e.totalPages,disabled:e.isDisabled,onChange:function(t,n){r(n),e.nextPage(n)},variant:"outlined",shape:"rounded",showFirstButton:!0,showLastButton:!0})}function he(e){var t=e.photo,n=e.isDisabled,a=e.error,c=e.title,r=e.nextPage,o=e.onChangeHandler,i=e.onKeyPressHandler,s=e.remotePhoto,l=e.currentPage,d=e.totalPages,j=e.clearInput;return Object(p.jsxs)("div",{children:[Object(p.jsx)(ie,{}),Object(p.jsx)(se,{value:"Add picture success!"}),Object(p.jsx)(M.a,{id:"outlined-basic",label:"Find images",variant:"outlined",className:le.a.root,error:!!a,helperText:a,value:c,onChange:o,onKeyPress:i,InputProps:{endAdornment:Object(p.jsx)(de.a,{position:"end",onClick:j,children:Object(p.jsx)(u.a,{onClick:j,children:Object(p.jsx)(je.a,{})})})}}),!!t.length&&Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:le.a.pagination,children:Object(p.jsx)(pe,{currentPage:l,totalPages:d,isDisabled:n,nextPage:r})}),Object(p.jsx)(O.a,{container:!0,className:le.a.images,children:t.map((function(e){return Object(p.jsx)(ae,{picture:e,remotePhoto:function(){return s(e.id,e)},description:"Bookmark it!"},e.id)}))})]})]})}function fe(){var e=Object(m.c)((function(e){return e.app.photo})),t=Object(m.c)((function(e){return e.app.isDisabled})),n=Object(m.c)((function(e){return e.app.page})),c=Object(m.c)((function(e){return e.app.pages})),r=Object(m.b)(),o=Object(a.useState)(null),i=Object(g.a)(o,2),s=i[0],u=i[1],l=Object(a.useState)(""),d=Object(g.a)(l,2),j=d[0],b=d[1],h=function(e,t){var n=Object(a.useState)(e),c=Object(g.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){return o(e)}),t);return function(){return clearTimeout(n)}}),[e]),r}(j,500),f=Object(a.useCallback)((function(e){var t;""!==e.trim()?r((t=e,function(e){e(E({photos:[]})),e(J({isDisabled:!0})),C(t).then((function(t){return q(t.data,e)})).catch((function(t){return D(t,e)}))})):u("Title is required")}),[r]);Object(a.useEffect)((function(){r(E({photos:[]})),r(H({page:1,pages:0}))}),[r]),Object(a.useEffect)((function(){h&&f(j)}),[h,j,f]);return Object(p.jsx)(he,{photo:e,isDisabled:t,error:s,title:j,nextPage:function(e){r(function(e,t){return function(n){n(L({page:t})),n(J({isDisabled:!0})),C(e,t).then((function(e){return q(e.data,n)})).catch((function(e){return D(e,n)}))}}(j,e))},currentPage:n,totalPages:c,onChangeHandler:function(e){e.currentTarget.value||r(E({photos:[]})),b(e.currentTarget.value)},remotePhoto:function(e,t){r(F({photoId:e})),r(function(e){return function(t,n){var a=localStorage.getItem("state");a&&t(U(JSON.parse(a))),t(R({photo:e})),localStorage.setItem("state",JSON.stringify(n().localstorage))}}(t)),r(S({status:"succeeded"}))},onKeyPressHandler:function(e){null!==s&&u(null),"Enter"===e.key&&f(j)},clearInput:function(){b(""),u(null),r(E({photos:[]})),r(H({page:1,pages:0}))}})}function Oe(){var e=Object(m.c)((function(e){return e.localstorage})),t=Object(m.b)();function n(e){t(function(e){return function(t,n){t(G({photoId:e})),localStorage.setItem("state",JSON.stringify(n().localstorage))}}(e)),t(S({status:"succeeded"}))}return Object(a.useEffect)((function(){t((function(e){var t=localStorage.getItem("state");t&&e(U(JSON.parse(t)))}))}),[]),Object(p.jsxs)("div",{className:le.a.images,children:[Object(p.jsx)(se,{value:"Delete picture success!"}),Object(p.jsx)(O.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:!!e.length&&e.map((function(e){return Object(p.jsx)(ae,{picture:e,remotePhoto:n,description:"Remove it"},e.id)}))})]})}var xe=n(74),ge=n.n(xe);function me(){return Object(p.jsx)("div",{className:ge.a.container,children:Object(p.jsxs)("div",{className:ge.a.content,children:[Object(p.jsx)("h2",{children:"404"}),Object(p.jsx)("h4",{children:"Something went wrong! Page not found"}),Object(p.jsx)("p",{children:"This page does not exist, or it has not been created yet"}),Object(p.jsx)(d.b,{to:"/search",children:"Back to search picture"})]})})}function ve(){return Object(p.jsxs)(x.d,{children:[Object(p.jsx)(x.b,{exact:!0,path:"/search",render:function(){return Object(p.jsx)(fe,{})}}),Object(p.jsx)(x.b,{path:"/bookmarks",render:function(){return Object(p.jsx)(Oe,{})}}),Object(p.jsx)(x.b,{path:"/404",render:function(){return Object(p.jsx)(me,{})}}),Object(p.jsx)(x.a,{exact:!0,from:"/",to:"/search"}),Object(p.jsx)(x.a,{from:"*",to:"/404"})]})}var _e=n(206),Pe=n(207),Ce=n(53),ye=n.n(Ce);function Ne(){return Object(p.jsx)("div",{className:ye.a.menu,children:Object(p.jsxs)(O.a,{className:ye.a.grid,children:[Object(p.jsx)(d.b,{to:"/search",activeClassName:ye.a.active,children:Object(p.jsx)(u.a,{children:Object(p.jsx)(_e.a,{})})}),Object(p.jsx)(d.b,{to:"/bookmarks",activeClassName:ye.a.active,children:Object(p.jsx)(u.a,{children:Object(p.jsx)(Pe.a,{})})})]})})}var ke=n(75),Ae=n.n(ke);function Se(){return Object(p.jsx)("div",{className:Ae.a.div,children:Object(p.jsx)(o.a,{color:"inherit",position:"static",children:Object(p.jsx)(i.a,{children:Object(p.jsx)(s.a,{variant:"h6",className:Ae.a.div,children:"Copyrights"})})})})}var Ie=n(208),we=n(216),De=n(213),Te=n(209),Be=n(152),Ee=n(96),Fe=Object(Ie.a)((function(e){return Object(we.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{maxWidth:300,backgroundColor:"#282c34",textAlign:"center",color:"#ccc",boxShadow:e.shadows[10],padding:e.spacing(2,4,3)}})}));function He(){var e=Fe(),t=Object(a.useState)(!1),n=Object(g.a)(t,2),c=n[0],r=n[1],o=function(){r(!1)};return Object(p.jsxs)("div",{children:[Object(p.jsx)(Ee.a,{timeout:6e4,onIdle:function(){r(!0)},onActive:o}),Object(p.jsx)(De.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:c,onClose:o,closeAfterTransition:!0,BackdropComponent:Te.a,BackdropProps:{timeout:1e3},children:Object(p.jsx)(Be.a,{in:c,children:Object(p.jsxs)("div",{className:e.paper,children:[Object(p.jsx)("h2",{id:"transition-modal-title",children:"App is not active"}),Object(p.jsx)("p",{id:"transition-modal-description",children:"We are waiting for you!)"}),Object(p.jsx)("q",{children:"Enjoy the moment"})]})})})]})}var Le=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(He,{}),Object(p.jsx)(h,{}),Object(p.jsx)(f.a,{maxWidth:"xl",className:"container",children:Object(p.jsxs)(O.a,{container:!0,className:"grid",children:[Object(p.jsx)(Ne,{}),Object(p.jsx)("div",{className:"wrap-content",children:Object(p.jsx)(ve,{})})]})}),Object(p.jsx)(Se,{})]})},Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},We=n(24),qe=n(51),ze=Object(We.b)({settings:w,localstorage:V,app:W}),Ke=Object(y.a)({reducer:ze,middleware:function(e){return e().prepend(qe.a)}});r.a.render(Object(p.jsx)(m.a,{store:Ke,children:Object(p.jsx)(d.a,{children:Object(p.jsx)(Le,{})})}),document.getElementById("root")),Je()},47:function(e,t,n){e.exports={root:"SearchBoard_root__zB-zx",images:"SearchBoard_images__26SV4",pagination:"SearchBoard_pagination__399r5"}},52:function(e,t,n){e.exports={itemsText:"ImageCard_itemsText__2viTt",root:"ImageCard_root__Kit5P",button:"ImageCard_button__1Wsn_",media:"ImageCard_media__2tDh-"}},53:function(e,t,n){e.exports={menu:"Nav_menu__1cAsj",active:"Nav_active__hnkFe",grid:"Nav_grid__ns5qP"}},64:function(e,t,n){e.exports={div:"Header_div__2qzaf",navLink:"Header_navLink__1yAgw"}},74:function(e,t,n){e.exports={container:"404_container__2sjCw",content:"404_content__-a-W9"}},75:function(e,t,n){e.exports={div:"Footer_div__2GPWF"}}},[[150,1,2]]]);
//# sourceMappingURL=main.b3b412b5.chunk.js.map